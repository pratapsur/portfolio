<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Twist - Instant Beverage System</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.min.js"></script>
    <style>
        /* --- CSS VARIABLES & THEME ENGINE --- */
        :root {
            /* Default Theme (Coffee) */
            --bg-color: #2C1A11;
            --text-color: #ffffff;
            --accent-color: #D4AF37;
            --transition-speed: 0.8s;
            --shop-bg-color: #121212; /* Deep Onyx for Shop Mode */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            overflow: hidden; 
            transition: background-color var(--transition-speed) ease;
        }

        /* --- LAYOUT --- */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* --- NAVBAR --- */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 0;
            z-index: 100;
            position: relative;
        }

        .logo {
            font-family: 'Oswald', sans-serif;
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
        }

        .logo span {
            color: var(--accent-color);
            font-style: italic;
            transition: color var(--transition-speed) ease;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .cart-icon-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .cart-icon-btn:hover { transform: scale(1.1); }

        /* NEW STYLE FOR YOUR GOLD CART ICON */
        .cart-custom-img {
            width: 80px;  /* Adjust size here */
            height: 80px;
            object-fit: contain;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3)); /* Adds a nice shadow */
            
        }
        
        .cart-badge {
            position: absolute;
            top: -2px;
            right: -5px;
            background: var(--accent-color);
            color: black;
            font-size: 0.7rem;
            font-weight: bold;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 2;
            box-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .cart-badge.show { opacity: 1; }

        .btn-shop {
            padding: 12px 30px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 50px;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            z-index: 200;
        }
        .btn-shop:hover { background: white; color: black; }

        /* --- VIEW WRAPPER --- */
        .view-wrapper {
            position: relative;
            flex: 1;
            width: 100%;
            height: 100%;
        }

        /* --- HERO SECTION --- */
        .hero {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.6s ease, transform 0.6s ease;
            z-index: 10;
        }

        .hero.hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }

        .hero-text { flex: 1; z-index: 10; }

        .tagline {
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 600;
            margin-bottom: 20px;
            display: block;
            transition: color var(--transition-speed) ease;
        }

        h1 {
            font-family: 'Oswald', sans-serif;
            font-size: 5rem;
            line-height: 1.1;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        p.desc {
            font-size: 1.1rem;
            opacity: 0.8;
            max-width: 450px;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .cta-btn {
            padding: 18px 40px;
            background-color: var(--accent-color);
            color: #000;
            border: none;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s, background-color var(--transition-speed);
            clip-path: polygon(0 0, 100% 0, 95% 100%, 0% 100%);
        }
        .cta-btn:hover { transform: scale(1.05); }

        .hero-visual {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .blob {
            position: absolute;
            width: 500px;
            height: 500px;
            background: var(--accent-color);
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.2;
            z-index: 0;
            transition: background var(--transition-speed) ease;
            animation: pulse 4s infinite alternate;
        }

        .bottle-img {
            height: 65vh;
            z-index: 2;
            transition: transform 0.5s ease-out;
            animation: float 6s ease-in-out infinite;
        }

        .controls {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 20;
        }

        .control-dot {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.2);
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .control-dot::after {
            content: '';
            width: 12px;
            height: 12px;
            background: var(--dot-color);
            border-radius: 50%;
            transition: transform 0.3s;
        }
        .control-dot.active { border-color: white; transform: scale(1.2); }
        .control-dot:hover { border-color: white; }

        /* --- SHOP SECTION --- */
        .shop-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transform: translateY(50px);
            transition: opacity 0.6s ease, transform 0.6s ease;
            z-index: 50; 
        }

        .shop-view.active {
            opacity: 1;
            pointer-events: all;
            transform: translateY(0);
        }

        .shop-header {
            font-family: 'Oswald', sans-serif;
            font-size: 3rem;
            margin-bottom: 50px;
            text-transform: uppercase;
            text-align: center;
        }

        .shop-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            width: 100%;
            max-width: 1200px;
        }

        .product-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s ease, border-color 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--card-color);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--card-color) 0%, transparent 60%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        .product-card:hover::before { opacity: 0.15; }

        .card-img {
            height: 300px;
            object-fit: contain;
            margin-bottom: 20px;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
            transition: transform 0.3s ease;
        }
        .product-card:hover .card-img { transform: scale(1.05) rotate(2deg); }

        .card-title {
            font-family: 'Oswald', sans-serif;
            font-size: 1.5rem;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .card-price {
            font-size: 1.2rem;
            color: var(--card-color);
            font-weight: 600;
            margin-bottom: 20px;
            display: block;
        }

        .card-btn {
            padding: 10px 25px;
            background: transparent;
            border: 1px solid var(--card-color);
            color: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            z-index: 2;
        }
        .product-card:hover .card-btn {
            background: var(--card-color);
            color: black;
        }

        /* --- CART SIDEBAR --- */
        .cart-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            z-index: 900;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
        }
        .cart-overlay.open { opacity: 1; pointer-events: all; }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            max-width: 450px;
            height: 100vh;
            background: rgba(18, 18, 18, 0.95);
            border-left: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
        }
        .cart-sidebar.open { transform: translateX(0); }

        .cart-header {
            padding: 25px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .cart-header h2 { font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        .close-cart { background: none; border: none; color: white; cursor: pointer; }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        .cart-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            animation: fadeIn 0.3s ease;
        }
        .cart-item img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 5px;
        }
        .item-details { flex: 1; }
        .item-title { font-weight: 600; font-size: 1rem; margin-bottom: 5px; }
        .item-price { color: #ccc; font-size: 0.9rem; margin-bottom: 10px; }
        .item-controls { display: flex; align-items: center; gap: 10px; }
        .qty-btn {
            background: rgba(255,255,255,0.1);
            border: none; color: white;
            width: 24px; height: 24px;
            border-radius: 50%;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .qty-btn:hover { background: white; color: black; }

        .cart-footer {
            padding: 25px;
            background: rgba(0,0,0,0.2);
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .price-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem; color: #aaa; }
        .price-row.total { color: white; font-size: 1.2rem; font-weight: bold; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
        
        .checkout-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background: var(--accent-color);
            color: black;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .checkout-btn:hover { transform: scale(1.02); }

        .empty-cart-msg {
            text-align: center;
            color: #777;
            margin-top: 50px;
        }

        /* --- ANIMATIONS --- */
        .fade-out { opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; }
        .fade-in { opacity: 1; transform: translateY(0); transition: opacity 0.6s ease, transform 0.6s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        @keyframes pulse { 0% { transform: scale(1); opacity: 0.2; } 100% { transform: scale(1.1); opacity: 0.3; } }

        /* --- MOBILE TWEAKS --- */
        @media (max-width: 1024px) {
            .shop-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 768px) {
            .hero { flex-direction: column; text-align: center; overflow-y: auto; }
            h1 { font-size: 3rem; }
            .hero-visual { order: -1; margin-bottom: 30px; }
            .bottle-img { height: 40vh; }
            .controls { flex-direction: row; top: auto; bottom: 20px; right: 50%; transform: translateX(50%); }
            .shop-grid { grid-template-columns: 1fr; gap: 20px; padding-bottom: 50px;}
            .shop-view { height: auto; padding-top: 100px; overflow-y: auto; }
            .card-img { height: 200px; }
            .cart-sidebar { width: 90%; }
        }
    </style>
</head>
<body>

    <div class="container">
        <nav>
            <div class="logo" onclick="toggleShop(false)">Indian <span>Twist</span></div>
            <div class="nav-actions">
                
                <button class="cart-icon-btn" onclick="toggleCart(true)">
                    <img src="assets/cart.png" class="cart-custom-img" alt="Cart">
                    <span class="cart-badge" id="cartBadge">0</span>
                </button>

                <button class="btn-shop" id="shopBtn" onclick="toggleShop()">Shop Bundle</button>
            </div>
        </nav>

        <div class="view-wrapper">
            
            <div class="hero" id="homeView">
                <div class="hero-text" id="textContent">
                    <span class="tagline" id="tagline">The 8 AM Wake-Up Call</span>
                    <h1 id="headline">Filter Kaapi<br>Rush</h1>
                    <p class="desc" id="description">
                        Authentic South Indian filter coffee in a twist. 
                        No brewing, just shaking. The ultimate convenience.
                    </p>
                    <button class="cta-btn" onclick="toggleShop(true)">GET STARTED</button>
                </div>

                <div class="hero-visual">
                    <div class="blob"></div>
                    <img src="assets/coffee.png" alt="Bottle" class="bottle-img" id="bottle">
                </div>

                <div class="controls">
                    <button class="control-dot active" onclick="changeTheme(0)" style="--dot-color: #D4AF37"></button>
                    <button class="control-dot" onclick="changeTheme(1)" style="--dot-color: #FF8C00"></button>
                    <button class="control-dot" onclick="changeTheme(2)" style="--dot-color: #0EA5E9"></button>
                </div>
            </div>

            <div class="shop-view" id="shopView">
                <h2 class="shop-header">Select Your Fuel</h2>
                <div class="shop-grid" id="shopGrid">
                    </div>
            </div>

        </div>
    </div>

    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart(false)"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button class="close-cart" onclick="toggleCart(false)"><i data-lucide="x"></i></button>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="empty-cart-msg">Your cart is empty.<br>Add some fuel!</p>
        </div>
        <div class="cart-footer">
            <div class="price-row">
                <span>Subtotal (MRP)</span>
                <span id="cartSubtotal">₹0</span>
            </div>
            <div class="price-row">
                <span>Tax (5%)</span>
                <span id="cartTax">₹0</span>
            </div>
            <div class="price-row">
                <span>Delivery Charges</span>
                <span id="cartDelivery">₹0</span>
            </div>
            <div class="price-row total">
                <span>Total Payable</span>
                <span id="cartTotal">₹0</span>
            </div>
            <button class="checkout-btn">Proceed to Pay</button>
        </div>
    </div>

    <script>
        // --- INITIALIZE ICONS ON LOAD ---
        window.onload = function() {
            if (window.lucide) {
                lucide.createIcons();
            }
        };

        // --- DATA OBJECT ---
        const products = [
            {
                id: 0,
                name: "Coffee",
                title: "Filter Kaapi Rush",
                tagline: "The 8 AM Wake-Up Call",
                headline: "Filter Kaapi<br>Rush",
                desc: "Authentic South Indian filter coffee in a twist. No brewing, just shaking. Premium Arabica beans captured in a cap.",
                priceVal: 399,
                priceDisplay: "₹399",
                // THEME COLORS
                bgColor: "#2C1A11",
                accentColor: "#D4AF37",
                imgSrc: "assets/coffee.png" 
            },
            {
                id: 1,
                name: "Chai",
                title: "Mumbai Masala Mix",
                tagline: "Street-Style Comfort",
                headline: "Mumbai Masala<br>Mix",
                desc: "Spicy ginger and cardamom notes. The perfect 4 PM partner. Authentic Tapri taste in seconds.",
                priceVal: 399,
                priceDisplay: "₹399",
                bgColor: "#B64002",
                accentColor: "#FFD700",
                imgSrc: "assets/chai.png"
            },
            {
                id: 2,
                name: "Protein",
                title: "Iron Whey Fuel",
                tagline: "Post-Workout Power",
                headline: "Iron Whey<br>Fuel",
                desc: "24g Isolate Protein. Chocolate Fudge flavor. Instant recovery. No clumps, just twist and chug.",
                priceVal: 899,
                priceDisplay: "₹899",
                bgColor: "#0F172A",
                accentColor: "#0EA5E9",
                imgSrc: "assets/protein.png"
            }
        ];

        // --- STATE ---
        let currentIndex = 0;
        let isShopMode = false;
        let cart = []; // Array of { ...product, qty: 1 }

        // --- DOM ELEMENTS ---
        const root = document.documentElement;
        const homeView = document.getElementById('homeView');
        const shopView = document.getElementById('shopView');
        const shopGrid = document.getElementById('shopGrid');
        const shopBtn = document.getElementById('shopBtn');
        
        // Cart Elements
        const cartSidebar = document.getElementById('cartSidebar');
        const cartOverlay = document.getElementById('cartOverlay');
        const cartItemsContainer = document.getElementById('cartItems');
        const cartBadge = document.getElementById('cartBadge');
        
        // Home Elements
        const textSection = document.getElementById('textContent');
        const tagline = document.getElementById('tagline');
        const headline = document.getElementById('headline');
        const desc = document.getElementById('description');
        const bottle = document.getElementById('bottle');
        const dots = document.querySelectorAll('.control-dot');

        // --- INITIALIZE SHOP GRID ---
        products.forEach((p, index) => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.style.setProperty('--card-color', p.accentColor);
            card.innerHTML = `
                <img src="${p.imgSrc}" class="card-img" alt="${p.name}">
                <h3 class="card-title">${p.title}</h3>
                <span class="card-price">${p.priceDisplay}</span>
                <button class="card-btn" onclick="addToCart(${index})">Add to Cart</button>
            `;
            shopGrid.appendChild(card);
        });

        // --- TOGGLE SHOP MODE ---
        function toggleShop(forceState = null) {
            const shouldBeShop = forceState !== null ? forceState : !isShopMode;

            if (shouldBeShop) {
                isShopMode = true;
                shopBtn.textContent = "Back to Home";
                homeView.classList.add('hidden');
                root.style.setProperty('--bg-color', 'var(--shop-bg-color)');
                setTimeout(() => { shopView.classList.add('active'); }, 300);
            } else {
                isShopMode = false;
                shopBtn.textContent = "Shop Bundle";
                shopView.classList.remove('active');
                root.style.setProperty('--bg-color', products[currentIndex].bgColor);
                setTimeout(() => { homeView.classList.remove('hidden'); }, 300);
            }
        }

        // --- THEME SWITCHER (HOME) ---
        function changeTheme(index) {
            if (index === currentIndex || isShopMode) return;
            const product = products[index];

            root.style.setProperty('--bg-color', product.bgColor);
            root.style.setProperty('--accent-color', product.accentColor);

            textSection.classList.add('fade-out');
            bottle.style.transform = "translateY(50px) scale(0.9) rotate(-5deg)";
            bottle.style.opacity = "0";

            setTimeout(() => {
                tagline.innerText = product.tagline;
                headline.innerHTML = product.headline;
                desc.innerText = product.desc;
                bottle.src = product.imgSrc;

                dots.forEach(d => d.classList.remove('active'));
                dots[index].classList.add('active');

                textSection.classList.remove('fade-out');
                textSection.classList.add('fade-in');
                bottle.style.transform = "translateY(0) scale(1) rotate(0deg)";
                bottle.style.opacity = "1";
                setTimeout(() => textSection.classList.remove('fade-in'), 600);
                
                currentIndex = index;
            }, 400);
        }

        // --- CART LOGIC ---
        function toggleCart(isOpen) {
            if(isOpen) {
                cartSidebar.classList.add('open');
                cartOverlay.classList.add('open');
            } else {
                cartSidebar.classList.remove('open');
                cartOverlay.classList.remove('open');
            }
        }

        function addToCart(index) {
            const product = products[index];
            const existingItem = cart.find(item => item.id === product.id);

            if (existingItem) {
                existingItem.qty++;
            } else {
                cart.push({ ...product, qty: 1 });
            }
            
            updateCartUI();
            toggleCart(true); 
        }

        function updateQty(id, change) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex > -1) {
                cart[itemIndex].qty += change;
                if (cart[itemIndex].qty <= 0) {
                    cart.splice(itemIndex, 1);
                }
                updateCartUI();
            }
        }

        function removeItem(id) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if(itemIndex > -1) {
                cart.splice(itemIndex, 1);
                updateCartUI();
            }
        }

        function updateCartUI() {
            // 1. Update Badge
            const totalQty = cart.reduce((acc, item) => acc + item.qty, 0);
            cartBadge.innerText = totalQty;
            if(totalQty > 0) cartBadge.classList.add('show');
            else cartBadge.classList.remove('show');

            // 2. Update Items HTML
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<p class="empty-cart-msg">Your cart is empty.<br>Add some fuel!</p>`;
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.imgSrc}" alt="${item.name}">
                        <div class="item-details">
                            <div class="item-title">${item.title}</div>
                            <div class="item-price">₹${item.priceVal} x ${item.qty}</div>
                            <div class="item-controls">
                                <button class="qty-btn" onclick="updateQty(${item.id}, -1)">-</button>
                                <span>${item.qty}</span>
                                <button class="qty-btn" onclick="updateQty(${item.id}, 1)">+</button>
                                <button style="background:none; border:none; color:#666; margin-left:auto; cursor:pointer;" onclick="removeItem(${item.id})"><i data-lucide="trash-2" width="16"></i></button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                // IMPORTANT: Re-init icons safely
                if (window.lucide) {
                    try { lucide.createIcons(); } catch(e) { console.warn("Icons failed", e); }
                }
            }

            // 3. Calculations
            const subtotal = cart.reduce((acc, item) => acc + (item.priceVal * item.qty), 0);
            const tax = Math.round(subtotal * 0.05); // 5% Tax
            const delivery = subtotal > 500 ? 0 : (subtotal > 0 ? 40 : 0); // Free delivery over 500
            const total = subtotal + tax + delivery;

            document.getElementById('cartSubtotal').innerText = `₹${subtotal}`;
            document.getElementById('cartTax').innerText = `₹${tax}`;
            document.getElementById('cartDelivery').innerText = delivery === 0 ? (subtotal > 0 ? "FREE" : "₹0") : `₹${delivery}`;
            document.getElementById('cartTotal').innerText = `₹${total}`;
        }

        // --- MOUSE EFFECT ---
        document.addEventListener('mousemove', (e) => {
            if(isShopMode) return; 
            const x = (window.innerWidth - e.pageX * 2) / 100;
            const y = (window.innerHeight - e.pageY * 2) / 100;
            bottle.style.transform = `translateX(${x}px) translateY(${y}px)`;
        });
    </script>
</body>
</html>